!function(t){function e(e){for(var n,a,l=e[0],c=e[1],s=e[2],f=0,h=[];f<l.length;f++)a=l[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&h.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);for(u&&u(e);h.length;)h.shift()();return i.push.apply(i,s||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,l=1;l<r.length;l++){var c=r[l];0!==o[c]&&(n=!1)}n&&(i.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},o={0:0},i=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var s=0;s<l.length;s++)e(l[s]);var u=c;i.push([103,1]),r()}({103:function(t,e,r){t.exports=r(124)},104:function(t,e,r){var n=r(105);"string"==typeof n&&(n=[[t.i,n,""]]);r(44)(n,{})},105:function(t,e,r){(t.exports=r(43)(!1)).push([t.i,'.placeholder{\r\n  height: 3rem;\r\n}\r\n.navigationBar {\r\n  position: fixed;\r\n  z-index: 1;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 3rem;\r\n  padding-left: 2rem ;\r\n  color: #ffffff;\r\n  font-size: 2.5rem;\r\n  font-family: sans-serif;\r\n  font-style: italic;\r\n  background: rgb(244,81,30);\r\n  background: linear-gradient(90deg, rgba(244,81,30,1) 31%, rgba(255,166,0,0.8578781854538691) 100%);\r\n  box-shadow: 0px 8px 8px 2px rgba(0, 0, 0, 0.5);\r\n}\r\n.navigationBar #logo{\r\n  color: #ffa837;\r\n}\r\n\r\n.toggleAndFile{\r\n  display: flex;\r\n  align-items: center;\r\n  height: inherit;\r\n  float: right;\r\n  font-family: fantasy;\r\n  font-style: normal;\r\n  font-size: 1.5rem;\r\n}\r\n.switch{\r\n  border-radius: 2rem;\r\n  position: relative;\r\n  margin: 0 0.5rem;\r\n  display: inline-block;\r\n  width: 4rem;\r\n  height: 2rem;\r\n  box-shadow: 0.5rem 0.5rem 1rem -0.5rem #000;\r\n}\r\n.switch input{\r\n  display: none;\r\n}\r\n.slider{\r\n  border-radius: 2rem;\r\n  position: absolute;\r\n  cursor: pointer;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: #999;\r\n  transition: 0.4s;\r\n}\r\n.slider::before{\r\n  content: "OFF";\r\n  color: #999;\r\n  font-size: 1rem;\r\n  border-radius: 2rem;\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: absolute;\r\n  left: 0.3rem;\r\n  top: 0.3rem;\r\n  width: 2rem;\r\n  height: 1.4rem;\r\n  background-color: #fff;\r\n  transition: 0.4s;\r\n}\r\n.switch input:checked + .slider{\r\n  background-color: rgb(244,81,30);\r\n}\r\n.switch input:checked + .slider::before{\r\n  content: "ON";\r\n  color: rgb(244,81,30);\r\n  transform: translateX(1.4rem);\r\n}\r\n\r\n.inputLabel{\r\n  float: right;\r\n  margin-right: 1rem;\r\n  margin-left: 1rem;\r\n  cursor: pointer;\r\n  outline: none;\r\n  height: 2rem;\r\n  background:  rgb(244,81,30);\r\n  border-radius: 0.5rem;\r\n  font-size: 1.25rem;\r\n  font-family: sans-serif;\r\n  font-style: normal;\r\n  padding: 0.3rem 0.6rem;\r\n}\r\n.inputLabel:hover{\r\n  background:  rgb(214,51,0);\r\n}\r\n.inputLabel:active{\r\n  transform: translateY(0.6rem);\r\n  transition: 0.5s;\r\n}\r\n\r\n#inputFiles{\r\n  display: none;\r\n}\r\n',""])},106:function(t,e,r){var n=r(107);"string"==typeof n&&(n=[[t.i,n,""]]);r(44)(n,{})},107:function(t,e,r){(t.exports=r(43)(!1)).push([t.i,".largePhoto{\r\n  height: 65vh;\r\n  margin-left: 0.5rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.largePhoto dl{\r\n  visibility: hidden;\r\n  display: inline-block;\r\n  max-width: 28%;\r\n  margin-left: 0.5rem;\r\n  margin-right: auto;\r\n  font-family: fantasy;\r\n  font-size: 1.5rem;\r\n}\r\n.largePhoto dd{\r\n  font-size: 1.5rem;\r\n  margin-inline-start: 1.25rem;\r\n  overflow: hidden;\r\n}\r\n\r\n.largePhoto #largePhoto1{\r\n  display: inline-block;\r\n  margin: 2rem auto 2rem auto;\r\n  max-width: 70%;\r\n  min-height: 55vh;\r\n  max-height: 60vh;\r\n  border-radius: 1.5rem;\r\n  cursor: pointer;\r\n}\r\n.largePhoto #largePhoto1:hover{\r\n  opacity: 0.7;\r\n}\r\n\r\n.largePhoto .modal{\r\n  display: none;\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 1;\r\n  padding-top: 5rem;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: auto;\r\n  background-color: rgba(0,0,0,0.9);\r\n}\r\n\r\n.largePhoto .modal-content {\r\n  margin: 0 auto;\r\n  display: block;\r\n  width: 90%;\r\n  animation-name: zoom;\r\n  animation-duration: 0.8s;\r\n}\r\n\r\n@keyframes zoom {\r\n  from {transform:scale(0.5)}\r\n  to {transform:scale(1)}\r\n}\r\n\r\n.largePhoto .close {\r\n  position: absolute;\r\n  top: 1rem;\r\n  right: 2rem;\r\n  color: #f1f1f1;\r\n  font-size: 3rem;\r\n  font-weight: bold;\r\n  transition: 0.3s;\r\n  cursor: pointer;\r\n}\r\n\r\n@media only screen and (max-width: 700px){\r\n  .modal-content {\r\n    width: 100%;\r\n  }\r\n}\r\n",""])},108:function(t,e,r){var n=r(109);"string"==typeof n&&(n=[[t.i,n,""]]);r(44)(n,{})},109:function(t,e,r){(t.exports=r(43)(!1)).push([t.i,".mapThumbnailBlock{\r\n  height: 45vh;\r\n  margin-bottom: 0.5rem;\r\n  display: flex;\r\n}\r\n.mapThumbnail{\r\n  max-width: 102%;\r\n  max-height: 100%;\r\n  margin: auto;\r\n  display: inline-block;\r\n}\r\n.mapController dd~dt{\r\n  margin-top: 1rem;\r\n}\r\n.mapController .container{\r\n  border-radius: 0.5rem;\r\n  border-width: 0.3rem;\r\n  border-color: rgba(44, 97, 212, 1);\r\n  border-style: solid;\r\n  background-color: rgba(44, 97, 212, 0.1);\r\n  padding: 1rem 0.3rem 2rem 0.3rem;\r\n}\r\n\r\n.showAll,.showOrder,.chooseTime {\r\n  font-family: fantasy;\r\n  color: rgb(44, 97, 212);\r\n  font-size: 1.25rem;\r\n}\r\n.showAll .switch input:checked + .slider,\r\n.showOrder .switch input:checked + .slider{\r\n  background-color: rgb(44, 97, 212);\r\n}\r\n.showAll .switch input:checked + .slider::before,\r\n.showOrder .switch input:checked + .slider::before{\r\n  color: rgb(44, 97, 212);\r\n}\r\n\r\n.chooseTime [type='submit']{\r\n  display: none;\r\n}\r\n.chooseTime .submitBtn{\r\n  cursor: pointer;\r\n  outline: none;\r\n  margin-left: 1rem;\r\n  padding: 0.2rem 0.5rem;\r\n  color: #fff;\r\n  background: rgb(44, 97, 212);\r\n  border-radius: 0.5rem;\r\n}\r\n.chooseTime .submitBtn:hover{\r\n  background: rgb(14, 67, 182);\r\n}\r\n.chooseTime .submitBtn:active{\r\n  transform: translateX(1rem);\r\n  transition: 0.5s;\r\n}\r\n.chooseTime{\r\n  margin-inline-start: 0;\r\n}\r\n.chooseTime span{\r\n  font-family: sans-serif;\r\n  display: block;\r\n  color: #555;\r\n  font-weight: bolder;\r\n  font-size: 1rem;\r\n}\r\n.chooseTime [type='datetime-local']{\r\n  width: 100%;\r\n  display: block;\r\n  cursor: pointer;\r\n}\r\n",""])},110:function(t,e,r){var n=r(111);"string"==typeof n&&(n=[[t.i,n,""]]);r(44)(n,{})},111:function(t,e,r){(t.exports=r(43)(!1)).push([t.i,".mapMode .modal{\r\n  display: none;\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 1;\r\n  padding-top: 5vh;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0,0,0,0.8);\r\n}\r\n\r\n.mapMode .modal-content {\r\n  margin: 0 auto;\r\n  display: block;\r\n  max-width: 90%;\r\n  max-height: 90vh;\r\n\r\n}\r\n",""])},114:function(t,e,r){var n=r(115);"string"==typeof n&&(n=[[t.i,n,""]]);r(44)(n,{})},115:function(t,e,r){(t.exports=r(43)(!1)).push([t.i,".mapMode{\r\n  height: 90vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n  margin: 1rem 0 0 0.5rem;\r\n}\r\n#map{\r\n  width: 80%;\r\n  height: inherit;\r\n  display: inline-block;\r\n}\r\n.mapController{\r\n  margin: 0 1rem 0 0;\r\n  width: 18%;\r\n  display: inline-block;\r\n}\r\n\r\n.loader {\r\n  display: block;\r\n  border: 0.5rem solid rgba(0,0,0,0.1);\r\n  border-bottom: 0.5rem solid rgb(244,81,30);\r\n  border-radius: 50%;\r\n  width: 5rem;\r\n  height: 5rem;\r\n  animation: spin 2s ease-in-out infinite;\r\n}\r\n.loaderIn{\r\n  position: relative;\r\n  top: 0;\r\n  right: 0;\r\n  border: 0.5rem solid rgba(0,0,0,0.1);\r\n  border-bottom: 0.5rem solid rgb(44, 97, 212);\r\n  border-radius: 50%;\r\n  width: 4rem;\r\n  height: 4rem;\r\n  animation: spin 2s ease-out infinite;\r\n}\r\n.loaderIn2{\r\n  position: relative;\r\n  top: 0;\r\n  right: 0;\r\n  border: 0.5rem solid rgba(0,0,0,0.1);\r\n  border-bottom: 0.5rem solid rgb(244,81,30);\r\n  border-radius: 50%;\r\n  width: 3rem;\r\n  height: 3rem;\r\n  animation: spin 2s ease-in-out infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n.loaderBackground{\r\n  display: none;\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n}\r\n\r\n\r\n.progress{\r\n  font-size: 3rem;\r\n  font-family: fantasy;\r\n  color: #333;\r\n}\r\n\r\n.timeInterval{\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 20vw;\r\n  display: block;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  color: #000;\r\n  font-family: monospace;\r\n  font-size: 2rem;\r\n}\r\n",""])},116:function(t,e,r){var n=r(117);"string"==typeof n&&(n=[[t.i,n,""]]);r(44)(n,{})},117:function(t,e,r){(t.exports=r(43)(!1)).push([t.i,'.btn{\r\n  display: inline-block;\r\n  border-radius: 0.5rem;\r\n  background-color: #f4511e;\r\n  border: none;\r\n  color: #FFFFFF;\r\n  text-align: center;\r\n  font-size: 1rem;\r\n  padding: 1rem;\r\n  width: 3rem;\r\n  transition: all 0.5s;\r\n  cursor: pointer;\r\n  margin: 0.5rem;\r\n  position: relative;\r\n}\r\n.btn span {\r\n  display: inline-block;\r\n  position: relative;\r\n  transition: 0.5s;\r\n}\r\n.btn:active {\r\n  background-color: #e64310;\r\n  transform: translateY(1rem);\r\n}\r\n#btn1 span::before{\r\n  content: "\\00ab";\r\n  font-size: 1.5rem;\r\n  opacity: 0;\r\n  position: absolute;\r\n  top: -0.4rem;\r\n  right: 0.8rem;\r\n  transition: 0.5s;\r\n}\r\n#btn1:hover {\r\n  background-color: #d43100;\r\n  padding-left: 2rem;\r\n}\r\n#btn1:hover span::before{\r\n  opacity: 1;\r\n}\r\n#btn2 span::after{\r\n  content: "\\00bb";\r\n  font-size: 1.5rem;\r\n  opacity: 0;\r\n  position: absolute;\r\n  top: -0.4rem;\r\n  right: -1rem;\r\n  transition: 0.5s;\r\n}\r\n#btn2:hover {\r\n  background-color: #d43100;\r\n  padding-left: 0;\r\n}\r\n#btn2:hover span::after{\r\n  opacity: 1;\r\n}\r\n\r\n.disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n',""])},118:function(t,e,r){var n=r(119);"string"==typeof n&&(n=[[t.i,n,""]]);r(44)(n,{})},119:function(t,e,r){(t.exports=r(43)(!1)).push([t.i,".photo {\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  width: 16vw;\r\n  height: 16vw;\r\n  max-width: 170px;\r\n  max-height: 170px;\r\n  background-color: gray;\r\n  border-radius: 1.5rem;\r\n  margin: 0 0.5rem;\r\n  transition: 0.5s;\r\n}\r\n\r\n.photo:hover{\r\n  border-width: 0.5rem;\r\n  border-style: solid;\r\n  border-color: #f4511e;\r\n  transform: translateY(-1rem);\r\n  transition: 0.1s;\r\n}\r\n\r\n.photoDisabled{\r\n  pointer-events: none;\r\n}\r\n\r\n.photoSelected{\r\n  border-width: 0.5rem;\r\n  border-style: solid;\r\n  border-color: #00CECB;\r\n  transform: translateY(-1rem);\r\n}\r\n",""])},120:function(t,e,r){var n=r(121);"string"==typeof n&&(n=[[t.i,n,""]]);r(44)(n,{})},121:function(t,e,r){(t.exports=r(43)(!1)).push([t.i,".photoRow {\r\n  display: flex;\r\n  justify-content:center;\r\n  align-items: center;\r\n  margin-top: 1rem ;\r\n}\r\n",""])},122:function(t,e,r){var n=r(123);"string"==typeof n&&(n=[[t.i,n,""]]);r(44)(n,{})},123:function(t,e,r){(t.exports=r(43)(!1)).push([t.i,"*{\r\n  box-sizing: border-box;\r\n}\r\nbody {\r\n  background-color: rgba(244, 87, 30, 0.3);\r\n  margin: 0;\r\n}\r\n",""])},124:function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}r.r(e),r.d(e,"default",(function(){return le}));var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.root=e,this.handlers={}}return o(t,null,[{key:"getRootClass",value:function(){return".component"}}]),o(t,[{key:"on",value:function(t,e){this.handlers[t]=e}},{key:"fire",value:function(t){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];(e=this.handlers)[t].apply(e,[this].concat(n))}}]),t}();r(104);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function f(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(r,t);var e=u(r);function r(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=e.call(this,t)).fileInputEl=t.querySelector(".navigationBar #inputFiles"),n.checkboxInputEl=t.querySelector(".switch input"),n.fileInputEl.addEventListener("change",n.handleFileInputClick.bind(h(n)),!1),n.checkboxInputEl.addEventListener("change",n.handleCheckboxInputClick.bind(h(n)),!1),n}return c(r,null,[{key:"getRootClass",value:function(){return".navigationBar"}}]),c(r,[{key:"handleFileInputClick",value:function(){this.fire("fileChange",Array.from(this.fileInputEl.files))}},{key:"handleCheckboxInputClick",value:function(){this.fire("modeChange",this.checkboxInputEl.checked)}}]),r}(i),y=r(36),m=r.n(y);r(106);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function v(t,e,r){return e&&g(t.prototype,e),r&&g(t,r),t}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=C(t);if(e){var o=C(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return k(this,r)}}function k(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?P(t):e}function P(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(r,t);var e=S(r);function r(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=e.call(this,t)).imgEl=t.children[0],n.imfInfoEl=t.children[1],n.descriptionEls=n.imfInfoEl.querySelectorAll("dd"),n.modalEl=t.children[2],n.closeEl=n.modalEl.children[0],n.modalImgEl=n.modalEl.children[1],n.imgPath="",n.imgFile=null,n.imgEl.addEventListener("click",n.handleLargePhotoClick.bind(P(n))),n.modalImgEl.addEventListener("click",(function(t){t.stopPropagation()})),t.addEventListener("click",n.handleCloseClick.bind(P(n))),n.closeEl.addEventListener("click",n.handleCloseClick.bind(P(n))),n}return v(r,null,[{key:"getRootClass",value:function(){return".largePhoto"}}]),v(r,[{key:"handleLargePhotoClick",value:function(t){this.modalEl.style.display="block",t.stopPropagation()}},{key:"handleCloseClick",value:function(t){this.modalEl.style.display="none",t.stopPropagation()}},{key:"renderLargePhoto",value:function(t,e){this.imgPath=t,this.imgFile=e,this.imgEl.src=t,this.modalImgEl.src=t,e?m.a.getData(e,function(){var t=m.a.getTag(this.imgFile,"GPSLatitude"),e=m.a.getTag(this.imgFile,"GPSLongitude");this.imfInfoEl.style.visibility="visible",this.descriptionEls[0].innerText=this.imgFile.name,this.descriptionEls[1].innerText=this.imgFile.exifdata.hasOwnProperty("PixelYDimension")?m.a.getTag(this.imgFile,"PixelYDimension")+" ✕ "+m.a.getTag(this.imgFile,"PixelXDimension"):"no data",this.descriptionEls[2].innerText=this.imgFile.exifdata.hasOwnProperty("DateTimeOriginal")?m.a.getTag(this.imgFile,"DateTimeOriginal").replace(/(.{4}):(..):(..)/,"$1-$2-$3"):"no data",this.descriptionEls[3].innerText=t?m.a.getTag(this.imgFile,"GPSLatitudeRef")+" "+t[0]+"° "+t[1]+"' "+t[2]+'"':"no data",this.descriptionEls[4].innerText=e?m.a.getTag(this.imgFile,"GPSLongitudeRef")+" "+e[0]+"° "+e[1]+"' "+e[2]+'"':"no data"}.bind(this)):this.imfInfoEl.style.visibility="hidden"}}]),r}(i);r(108);function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function T(t,e,r){return e&&E(t.prototype,e),r&&E(t,r),t}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=F(t);if(e){var o=F(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return I(this,r)}}function I(t,e){return!e||"object"!==x(e)&&"function"!=typeof e?_(t):e}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(r,t);var e=R(r);function r(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=e.call(this,t)).mapThumbnail=t.querySelector(".mapThumbnail"),n.showAllSwitch=t.querySelector(".showAll .switch input"),n.showOrderSwitch=t.querySelector(".showOrder .switch input"),n.timeIntervalSubmit=t.querySelector(".chooseTime .submitBtn input"),n.timeIntervalStart=t.querySelector(".chooseTime .start input"),n.timeIntervalEnd=t.querySelector(".chooseTime .end input"),n.showAllSwitch.addEventListener("change",n.handleShowAllSwitchClick.bind(_(n)),!1),n.showOrderSwitch.addEventListener("change",n.handleShowOrderSwitchClick.bind(_(n)),!1),n.timeIntervalSubmit.addEventListener("click",n.handleSubmitClick.bind(_(n)),!1),n}return T(r,null,[{key:"getRootClass",value:function(){return".mapController"}}]),T(r,[{key:"handleShowAllSwitchClick",value:function(t){this.fire("controllerChange",this.showAllSwitch),t.stopPropagation()}},{key:"handleShowOrderSwitchClick",value:function(t){this.fire("controllerChange",this.showOrderSwitch),t.stopPropagation()}},{key:"handleSubmitClick",value:function(t){this.timeIntervalStart.value&&this.timeIntervalEnd.value?this.timeIntervalStart.value.localeCompare(this.timeIntervalEnd.value)>0?window.alert("Endding date-time should be earlier than starting date-time."):this.fire("setTimeInterval",this.timeIntervalStart.value.replace(/T/," ")+":00",this.timeIntervalEnd.value.replace(/T/," ")+":00"):window.alert("Please select date and time.")}},{key:"handleThumbnailRender",value:function(t){this.mapThumbnail.src=t}},{key:"controllerReset",value:function(){this.mapThumbnail.src="",this.showAllSwitch.checked=!1,this.showOrderSwitch.checked=!1}}]),r}(i);r(110);function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function D(t,e,r){return e&&M(t.prototype,e),r&&M(t,r),t}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=H(t);if(e){var o=H(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return z(this,r)}}function z(t,e){return!e||"object"!==A(e)&&"function"!=typeof e?G(t):e}function G(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(r,t);var e=q(r);function r(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=e.call(this,t)).imgNames=null,n.curPos=0,n.modalContentEl=t.querySelector("img"),n.modalContentEl.addEventListener("click",(function(t){t.stopPropagation()})),t.addEventListener("click",n.handleCloseClick.bind(G(n))),t.addEventListener("keydown",n.handleKeyboardEvent.bind(G(n))),n}return D(r,null,[{key:"getRootClass",value:function(){return".mapModeModal"}}]),D(r,[{key:"handleCloseClick",value:function(t){this.root.style.display="none",t.stopPropagation()}},{key:"handleKeyboardEvent",value:function(t){switch(t.key){case"ArrowLeft":this.curPos>0&&(this.curPos-=1,this.renderPhoto());break;case"ArrowRight":this.curPos<this.imgNames.length-1&&(this.curPos+=1,this.renderPhoto());break;case" ":this.root.style.display="none"}}},{key:"renderModal",value:function(t){this.imgNames=t,this.root.style.display="block",this.root.focus(),this.curPos=0,this.renderPhoto()}},{key:"renderPhoto",value:function(){this.modalContentEl.src=this.imgNames[this.curPos]}}]),r}(i),$=(r(112),r(7)),Y=r(63),U=r(136),N=r(72),X=r(86),Z=r(16),J=r(135),K=r(65),W=r(67),Q=r(130),tt=r(61),et=r(131),rt=r(88),nt=r(133),ot=r(134),it=r(87),at=r(129),lt=r(132);r(114);function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function st(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=t[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}return r}(t,e)||ut(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(t,e){if(t){if("string"==typeof t)return ft(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ft(t,e):void 0}}function ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dt(t,e,r){return e&&ht(t.prototype,e),r&&ht(t,r),t}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=gt(t);if(e){var o=gt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return mt(this,r)}}function mt(t,e){return!e||"object"!==ct(e)&&"function"!=typeof e?bt(t):e}function bt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pt(t,e)}(r,t);var e=yt(r);function r(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=e.call(this,t)).mergeDistance=30,n.numOfData=0,n.imgFileList=null,n.features=null,n.timeConstraint=[null,null],n.featuresInTime=null,n.lineString=null,n.timeOrder2index=null,n.index2time=null,n.mapEl=n.root.querySelector("#map"),n.loaderEl=n.root.querySelector(".loaderBackground"),n.progressEl=n.loaderEl.querySelector(".progress"),n.mapTimeIntervalTextEl=n.root.querySelector(".timeInterval"),n.subMode=null,n.mapController=new L(t.querySelector(".mapController")),n.mapModeModal=new V(t.querySelector(".modal")),n.mapController.on("controllerChange",n.handleControllerChange.bind(bt(n))),n.mapController.on("setTimeInterval",n.handleSetTimeInterval.bind(bt(n))),n.vectorSource=new it.a,n.clusterSource=new at.a({distance:n.mergeDistance,source:n.vectorSource}),n.styleCacheC={},n.styleCacheT={},n.normalIcon=new J.a({scale:.02,anchor:[.5,1],src:"icon/green-map-marker.png"}),n.vectorLayer=new nt.a({source:n.clusterSource,style:n.clusterStyle.bind(bt(n))}),n.vectorLayer.setZIndex(1),n.extraStyleCache={line:new K.c({stroke:new W.a({color:"#f00",width:5})})},n.extraVectorSource=new it.a;var o=new nt.a({source:n.extraVectorSource,style:n.extraStyle.bind(bt(n))}),i=new ot.a({source:new lt.a});n.map=new et.a({target:"map",layers:[i,n.vectorLayer,o],view:new rt.a({center:Object($.d)([121.545,25.045]),zoom:13})}),n.selectClick=new X.a({layers:[n.vectorLayer],style:n.extraStyle.bind(bt(n))}),n.selectHover=new X.a({layers:[n.vectorLayer],condition:Z.i,style:n.extraStyle.bind(bt(n))}),n.map.addInteraction(n.selectClick),n.map.addInteraction(n.selectHover);var a=n.selectClick.getFeatures(),l=n.selectHover.getFeatures();return a.on("add",n.handleFeatureClick.bind(bt(n))),l.on("add",n.handleFeatureHover.bind(bt(n))),n.root.style.display="none",n}return dt(r,null,[{key:"getRootClass",value:function(){return".mapMode"}},{key:"coordinateConverter",value:function(t,e){var r=e[0]+e[1]/60+e[2]/3600;return/S|W/i.test(t)&&(r*=-1),r}}]),dt(r,[{key:"checkFileExist",value:function(t){return!!this.imgFileList||(window.alert("Please select your photos first."),t.checked=!1,!1)}},{key:"handleControllerChange",value:function(t,e){e.checked?this.checkFileExist(e)&&(this.subMode&&this.subMode!==e&&(this.subMode.checked=!1,this.clearFeatures()),this.subMode=e,this.subMode===this.mapController.showAllSwitch?this.vectorLayer.setStyle(this.clusterStyle.bind(this)):this.vectorLayer.setStyle(this.timeOrderStyle.bind(this)),null===this.features?this.startRenderFeatures():this.reRenderFeatures()):(this.subMode=null,this.clearFeatures())}},{key:"handleSetTimeInterval",value:function(t,e,r){this.timeConstraint[0]=e,this.timeConstraint[1]=r,this.subMode&&(this.subMode.checked=!1,this.subMode=null,this.clearFeatures()),this.featuresInTime=[],this.timeOrder2index=[],this.lineString=null,this.features&&this.checkFeatures(),this.mapTimeIntervalTextEl.innerText="From "+this.timeConstraint[0]+" to "+this.timeConstraint[1]}},{key:"checkFeatures",value:function(){var t=this;this.features.forEach((function(e,r){var n=e.getId();if(t.timeConstraint[0]){var o=t.index2time[n];o.localeCompare(t.timeConstraint[0])>0&&o.localeCompare(t.timeConstraint[1])<0&&(t.featuresInTime.push(e),t.timeOrder2index.push(n),t.lineString||(t.lineString=new U.a([e.getGeometry().getCoordinates()])),t.lineString.appendCoordinate(e.getGeometry().getCoordinates()))}else t.featuresInTime.push(e),t.timeOrder2index.push(n),t.lineString||(t.lineString=new U.a([e.getGeometry().getCoordinates()])),t.lineString.appendCoordinate(e.getGeometry().getCoordinates())})),0===this.featuresInTime.length&&window.alert("No photo in this time interval."),this.lineString=new Y.a({geometry:this.lineString}),this.lineString.setId("line")}},{key:"extractDataComplete",value:function(){if(this.numOfData+=1,this.progressEl.innerText=Math.floor(this.numOfData/this.imgFileList.length*100)+"%",this.numOfData===this.imgFileList.length){if(this.features.length<1)return;if(this.features=this.features.sort(function(t,e){return this.index2time[t.getId()].localeCompare(this.index2time[e.getId()])}.bind(this)),this.checkFeatures(),this.vectorSource.addFeatures(this.featuresInTime),this.subMode===this.mapController.showOrderSwitch&&this.extraVectorSource.addFeature(this.lineString),this.featuresInTime.length>0){var t=this.featuresInTime[0].getGeometry().getCoordinates();this.map.getView().setCenter(t),this.map.getView().setZoom(13)}this.loaderEl.style.display="none"}}},{key:"clusterStyle",value:function(t){var e,r=t.get("features").length,n=this.styleCacheC[r];n||(n=new K.c({image:new J.a({scale:r<=10?.02:.02*Math.log10(r),anchor:[.5,1],src:r<=10?"icon/green-map-marker.png":r<=25?"icon/orange-map-marker.png":"icon/red-map-marker.png"})}),e=new Q.a({text:r.toString(),offsetY:r<=10?-32:-32*Math.log10(r),scale:2,fill:new tt.a({color:"#333"})}),n.setText(e),this.styleCacheC[r]=n);return n}},{key:"timeOrderStyle",value:function(t){var e=this,r=this.lineString.getGeometry().getCoordinates(),n=t.getGeometry().getCoordinates(),o=this.timeOrder2index.length;t.get("features").forEach((function(t,i){var a=e.timeOrder2index.indexOf(t.getId());r[a]=n,o=o>a?a:o})),this.lineString.getGeometry().setCoordinates(r),o+=1;var i=this.styleCacheT[o];return i||(i=new K.c({image:this.normalIcon,text:new Q.a({text:o.toString(),offsetY:-32,scale:2,fill:new tt.a({color:"#333"})})}),this.styleCacheT[o]=i),i}},{key:"extraStyle",value:function(t){if("line"==t.getId())return this.extraStyleCache.line;var e=t.get("features").length,r=this.extraStyleCache[e];return r||(r=new K.c({image:new J.a({scale:e<=10?.02:.02*Math.log10(e),anchor:[.5,1],src:"icon/blue-map-marker.png"})}),this.extraStyleCache[e]=r),r}},{key:"handleFeatureClick",value:function(t){var e=this,r=[];this.selectClick.getFeatures().item(0).get("features").forEach((function(t,n){r.push(e.imgFileList[t.getId()].url)})),this.mapModeModal.renderModal(r)}},{key:"handleFeatureHover",value:function(){var t=this.selectHover.getFeatures().item(0),e=this.imgFileList[t.values_.features[0].getId()].url;this.mapController.handleThumbnailRender(e)}},{key:"startRenderFeatures",value:function(){this.loaderEl.style.display="flex",this.progressEl.innerText="0%",this.features=[],this.featuresInTime=[],this.timeOrder2index=[],this.index2time={},this.numOfData=0;var t,e=function(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=ut(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){l=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}(this.imgFileList.entries());try{for(e.s();!(t=e.n()).done;){var n=st(t.value,2),o=n[0],i=n[1];m.a.getData(i,function(){if(arguments[0].exifdata.hasOwnProperty("GPSLatitude")){var t=m.a.getTag(arguments[0],"GPSLatitude"),e=m.a.getTag(arguments[0],"GPSLatitudeRef"),n=m.a.getTag(arguments[0],"GPSLongitude"),o=m.a.getTag(arguments[0],"GPSLongitudeRef"),i=m.a.getTag(arguments[0],"DateTimeOriginal").replace(/(.{4}):(..):(..)/,"$1-$2-$3"),a=[r.coordinateConverter(o,n),r.coordinateConverter(e,t)],l=new N.a(Object($.d)(a)),c=new Y.a(l);c.setId(arguments[1]),this.features.push(c),this.index2time[arguments[1]]=i}this.extractDataComplete()}.bind(this,i,o))}}catch(t){e.e(t)}finally{e.f()}}},{key:"reRenderFeatures",value:function(){if(this.vectorSource.addFeatures(this.featuresInTime),this.subMode===this.mapController.showOrderSwitch&&this.extraVectorSource.addFeature(this.lineString),this.featuresInTime.length>0){var t=this.featuresInTime[0].getGeometry().getCoordinates();this.map.getView().setCenter(t),this.map.getView().setZoom(13)}}},{key:"clearFeatures",value:function(){this.mapController.mapThumbnail.src="",this.vectorSource.clear(),this.extraVectorSource.clear()}},{key:"resetFeatures",value:function(){this.clearFeatures(),this.features=null,this.timeConstraint=[null,null],this.featuresInTime=null,this.lineString=null,this.timeOrder2index=null,this.index2time=null,this.subMode=null,this.styleCacheT={},this.mapController.controllerReset(),this.mapTimeIntervalTextEl.innerText=""}}]),r}(i);r(116);function wt(t){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function St(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function kt(t,e,r){return e&&St(t.prototype,e),r&&St(t,r),t}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Et(t);if(e){var o=Et(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ot(this,r)}}function Ot(t,e){return!e||"object"!==wt(e)&&"function"!=typeof e?xt(t):e}function xt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Et(t){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(r,t);var e=Ct(r);function r(t,n,o){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(i=e.call(this,t)).currentPos=0,i.imgFileLength=o,i.arrowDirection=0===n?"left":"right",i.checkBtnAvalibility(),t.addEventListener("click",i.handleBtnClick.bind(xt(i))),i}return kt(r,null,[{key:"getRootClass",value:function(){return".btn"}}]),kt(r,[{key:"checkBtnAvalibility",value:function(){return"left"===this.arrowDirection&&this.currentPos<=0||"right"===this.arrowDirection&&this.currentPos>=this.imgFileLength-5?(this.root.classList.add("disabled"),!1):(this.root.classList.remove("disabled"),!0)}},{key:"handleBtnClick",value:function(t){this.checkBtnAvalibility()&&("left"===this.arrowDirection?(this.currentPos=Math.max(this.currentPos-5,0),this.fire("click",this.currentPos)):(this.currentPos=Math.min(this.imgFileLength-5,this.currentPos+5),this.fire("click",this.currentPos))),t.stopPropagation()}}]),r}(i);r(118);function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function It(t,e,r){return e&&Rt(t.prototype,e),r&&Rt(t,r),t}function _t(t,e){return(_t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Mt(t);if(e){var o=Mt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Lt(this,r)}}function Lt(t,e){return!e||"object"!==jt(e)&&"function"!=typeof e?At(t):e}function At(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mt(t){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_t(t,e)}(r,t);var e=Ft(r);function r(t,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(o=e.call(this,t)).imgPath="",o.elIndex=n,o.root.addEventListener("click",o.handlePhotoClick.bind(At(o))),o.disableHoverEffect(),o}return It(r,null,[{key:"getRootClass",value:function(){return".photoCol"}}]),It(r,[{key:"handlePhotoClick",value:function(t){this.imgPath&&this.fire("click"),t.stopPropagation()}},{key:"renderPhoto",value:function(t){t?(this.imgPath=t,this.root.src=t,this.enableHoverEffect()):(this.imgPath="",this.root.src="#",this.disableHoverEffect())}},{key:"unselectedPhoto",value:function(){this.root.classList.remove("photoSelected"),this.enableHoverEffect()}},{key:"selectedPhotoEffect",value:function(){this.disableHoverEffect(),this.root.classList.add("photoSelected")}},{key:"disableHoverEffect",value:function(){this.root.classList.add("photoDisabled")}},{key:"enableHoverEffect",value:function(){this.root.classList.remove("photoDisabled")}}]),r}(i);r(120);function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=t[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}return r}(t,e)||Gt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=Gt(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){l=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function Gt(t,e){if(t){if("string"==typeof t)return Ht(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ht(t,e):void 0}}function Ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $t(t,e,r){return e&&Vt(t.prototype,e),r&&Vt(t,r),t}function Yt(t,e){return(Yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Zt(t);if(e){var o=Zt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Nt(this,r)}}function Nt(t,e){return!e||"object"!==Bt(e)&&"function"!=typeof e?Xt(t):e}function Xt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zt(t){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yt(t,e)}(r,t);var e=Ut(r);function r(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=e.call(this,t)).currentPos=0,n.photoSelected=0,n.btns=[],n.photoCols=[],n.imgFileList=[];var o,i=t.querySelectorAll(".btn"),a=zt(i.entries());try{for(a.s();!(o=a.n()).done;){var l=qt(o.value,2),c=l[0],s=l[1],u=new Tt(s,c,0);u.on("click",n.handleBtnClick.bind(Xt(n))),n.btns.push(u)}}catch(t){a.e(t)}finally{a.f()}var f,h=zt((i=t.querySelectorAll(".photo")).entries());try{for(h.s();!(f=h.n()).done;){var d=qt(f.value,2),p=d[0],y=d[1],m=new Dt(y,p);m.on("click",n.handlePhotoClick.bind(Xt(n))),n.photoCols.push(m)}}catch(t){h.e(t)}finally{h.f()}return n}return $t(r,null,[{key:"getRootClass",value:function(){return".photoRow"}}]),$t(r,[{key:"handleBtnClick",value:function(t,e){this.photoSelected>=this.currentPos&&this.photoSelected<this.currentPos+5&&this.photoCols[this.photoSelected-this.currentPos].unselectedPhoto(),this.currentPos=e,this.photoSelected>=this.currentPos&&this.photoSelected<this.currentPos+5&&this.photoCols[this.photoSelected-this.currentPos].selectedPhotoEffect();var r,n=zt(this.btns);try{for(n.s();!(r=n.n()).done;){var o=r.value;o.currentPos=e,o.checkBtnAvalibility()}}catch(t){n.e(t)}finally{n.f()}this.renderPhotos()}},{key:"handlePhotoClick",value:function(t){this.photoSelected>=this.currentPos&&this.photoSelected<this.currentPos+5&&this.photoCols[this.photoSelected-this.currentPos].unselectedPhoto(),this.photoSelected=this.currentPos+t.elIndex,t.selectedPhotoEffect(),this.fire("photoClick",t.imgPath)}},{key:"startRender",value:function(t){this.imgFileList=t;var e,r=zt(this.photoCols);try{for(r.s();!(e=r.n()).done;){e.value.unselectedPhoto()}}catch(t){r.e(t)}finally{r.f()}this.photoSelected=0,this.currentPos=0;var n,o=zt(this.btns);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.currentPos=0,i.imgFileLength=t.length,i.checkBtnAvalibility()}}catch(t){o.e(t)}finally{o.f()}this.renderPhotos()}},{key:"renderPhotos",value:function(){var t,e=this.currentPos,r=zt(this.photoCols);try{for(r.s();!(t=r.n()).done;){var n=t.value;e<this.imgFileList.length?n.renderPhoto(this.imgFileList[e].url):n.renderPhoto(""),e+=1}}catch(t){r.e(t)}finally{r.f()}}}]),r}(i);r(122);function Kt(t){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Qt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){l=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function Qt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function te(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ee(t,e,r){return e&&te(t.prototype,e),r&&te(t,r),t}function re(t,e){return(re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ne(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ae(t);if(e){var o=ae(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return oe(this,r)}}function oe(t,e){return!e||"object"!==Kt(e)&&"function"!=typeof e?ie(t):e}function ie(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ae(t){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var le=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}(r,t);var e=ne(r);function r(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=e.call(this,t)).urlObj=[],n.imgFileList=null,n.navigationBar=new p(t.querySelector(".navigationBar")),n.largePhoto=new O(t.querySelector(".largePhoto")),n.mapMode=new vt(t.querySelector(".mapMode")),n.photoRow=new Jt(t.querySelector(".photoRow")),n.navigationBar.on("fileChange",n.handleFileInputClick.bind(ie(n))),n.navigationBar.on("modeChange",n.handleCheckboxInputClick.bind(ie(n))),n.photoRow.on("photoClick",n.handlePhotoClick.bind(ie(n))),n}return ee(r,null,[{key:"getRootClass",value:function(){return"body"}}]),ee(r,[{key:"handleFileInputClick",value:function(t,e){if(this.urlObj.length>0){var r,n=Wt(this.urlObj);try{for(n.s();!(r=n.n()).done;){var o=r.value;URL.revokeObjectURL(o)}}catch(t){n.e(t)}finally{n.f()}}var i,a=Wt(e);try{for(a.s();!(i=a.n()).done;){var l=i.value;l.url=URL.createObjectURL(l),this.urlObj.push(l.url)}}catch(t){a.e(t)}finally{a.f()}this.imgFileList=e,this.mapMode.imgFileList=e,this.mapMode.resetFeatures(),this.photoRow.startRender(e),this.largePhoto.renderLargePhoto("",null)}},{key:"handleCheckboxInputClick",value:function(t,e){e?(this.photoRow.root.style.display="none",this.largePhoto.root.style.display="none",this.mapMode.root.style.display="flex"):(this.mapMode.root.style.display="none",this.largePhoto.root.style.display="flex",this.photoRow.root.style.display="flex")}},{key:"handlePhotoClick",value:function(t,e){this.largePhoto.renderLargePhoto(e,this.imgFileList[t.photoSelected])}}]),r}(i);window.onload=function(){new le(document.querySelector("body"))}}});